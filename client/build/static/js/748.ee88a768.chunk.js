/*! For license information please see 748.ee88a768.chunk.js.LICENSE.txt */
(self.webpackChunkquizknow_client=self.webpackChunkquizknow_client||[]).push([[748],{302:(e,t,o)=>{e.exports=o(3944)},1375:(e,t,o)=>{var n=o(302);e.exports=function(e,t){return new Promise(function(o,r){var a,i=t||{};function s(e){r(e||new Error("Aborted"))}function c(e,t){e.bail?s(e):a.retry(e)?i.onRetry&&i.onRetry(e,t):r(a.mainError())}"randomize"in i||(i.randomize=!0),(a=n.operation(i)).attempt(function(t){var n;try{n=e(s,t)}catch(r){return void c(r,t)}Promise.resolve(n).then(o).catch(function(e){c(e,t)})})})}},3873:e=>{e.exports=function(e,t){if("function"!==typeof e)throw new TypeError("Expected the first argument to be a `function`, got `".concat(typeof e,"`."));let o,n=0;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];clearTimeout(o);const s=Date.now(),c=t-(s-n);c<=0?(n=s,e.apply(this,a)):o=setTimeout(()=>{n=Date.now(),e.apply(this,a)},c)}}},3944:(e,t,o)=>{var n=o(5790);t.operation=function(e){var o=t.timeouts(e);return new n(o,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var o in e)t[o]=e[o];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],r=0;r<t.retries;r++)n.push(this.createTimeout(r,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(r,t)),n.sort(function(e,t){return e-t}),n},t.createTimeout=function(e,t){var o=t.randomize?Math.random()+1:1,n=Math.round(o*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,o,n){if(o instanceof Array&&(n=o,o=null),!n)for(var r in n=[],e)"function"===typeof e[r]&&n.push(r);for(var a=0;a<n.length;a++){var i=n[a],s=e[i];e[i]=function(n){var r=t.operation(o),a=Array.prototype.slice.call(arguments,1),i=a.pop();a.push(function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),i.apply(this,arguments))}),r.attempt(function(){n.apply(e,a)})}.bind(e,s),e[i].options=o}}},5790:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var o=this._timeouts.shift();if(void 0===o){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),o=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},o),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var o=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){o._operationTimeoutCb()},o._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,o=0,n=0;n<this._errors.length;n++){var r=this._errors[n],a=r.message,i=(e[a]||0)+1;e[a]=i,i>=o&&(t=r,o=i)}return t}},5837:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},6748:(e,t,o)=>{"use strict";o.d(t,{put:()=>de});var n=o(9379);const r={toWeb(){throw new Error("Vercel Blob: Sorry, we cannot get a Readable stream in this environment. If you see this message please open an issue here: https://github.com/vercel/storage/ with details on your environment.")}};var a=o(5837),i=o(1375);const s=globalThis.fetch.bind(globalThis);var c=o(3873),u=new Promise(e=>{try{const t=new Uint8Array([104,101,108,108,111]);new Blob([t]).text().then(t=>{e("hello"===t)}).catch(()=>{e(!1)})}catch(t){e(!1)}});async function l(e){if(e instanceof ReadableStream)return e;if(e instanceof Blob)return e.stream();if(d(e))return r.toWeb(e);let t;var o;return e instanceof ArrayBuffer?t=new Uint8Array(e):!function(e){return a(e)}(e)?(o=e,t=(new TextEncoder).encode(o)):t=e,await u?new Blob([t]).stream():new ReadableStream({start(e){e.enqueue(t),e.close()}})}function d(e){return"object"===typeof e&&"function"===typeof e.pipe&&e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState}var p=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i,_={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)};function h(e){if("number"===typeof e&&!isNaN(e))return e;if("string"!==typeof e)return null;const t=p.exec(e);let o,n="b";if(t){const[,e,,,r]=t;if(!e)return null;o=parseFloat(e),r&&(n=r.toLowerCase())}else o=parseInt(e,10);return isNaN(o)?null:Math.floor(_[n]*o)}var f=class extends Error{constructor(e){super("Vercel Blob: ".concat(e))}};function m(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var T=["//"],E=(()=>{if(function(){if("undefined"!==typeof navigator&&"ReactNative"===navigator.product)return!0;if("undefined"!==typeof process){const e=process.type;return"renderer"!==e&&"worker"!==e&&!(!process.versions||!process.versions.node)}return!1}())return!0;if(S().startsWith("http://localhost"))return!1;let e=!1;const t=new Request(S(),{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})();function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=null;try{t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VERCEL_BLOB_API_URL||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_VERCEL_BLOB_API_URL}catch(o){}return"".concat(t||"https://vercel.com/api/blob").concat(e)}var y="function"===typeof TextEncoder?new TextEncoder:null;function b(e){return e?"string"===typeof e?y?y.encode(e).byteLength:new Blob([e]).size:"byteLength"in e&&"number"===typeof e.byteLength?e.byteLength:"size"in e&&"number"===typeof e.size?e.size:0:0}function v(e){return globalThis.ReadableStream&&e instanceof ReadableStream}var w=Object.prototype.toString,g=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function O(e){var t;return!(!e||(t=e,"[object Error]"!==w.call(t))||"TypeError"!==e.name||"string"!==typeof e.message)&&("Load failed"===e.message?void 0===e.stack:g.has(e.message))}var R,C,P=!1;try{((null==(R={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG)?void 0:R.includes("blob"))||(null==(C={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_DEBUG)?void 0:C.includes("blob")))&&(P=!0)}catch(pe){}function A(e){if(P){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];console.debug("vercel-blob: ".concat(e),...o)}}var L,x="function"===typeof s,U=x&&E,D=async e=>{let t,{input:o,init:r,onUploadProgress:a}=e;if(A("using fetch"),r.body)if(a){const e=await l(r.body);let o=0;const n=((e,t)=>{let o=new Uint8Array(0);return new TransformStream({transform(n,r){queueMicrotask(()=>{const a=new Uint8Array(o.length+n.byteLength);for(a.set(o),a.set(new Uint8Array(n),o.length),o=a;o.length>=e;){const n=o.slice(0,e);r.enqueue(n),null==t||t(n.byteLength),o=o.slice(e)}})},flush(e){queueMicrotask(()=>{o.length>0&&(e.enqueue(o),null==t||t(o.byteLength))})}})})(65536,e=>{o+=e,a(o)});t=e.pipeThrough(n)}else t=r.body;const i=E&&t&&(v(c=t)||d(c))?"half":void 0;var c;return s(o,(0,n.A)((0,n.A)((0,n.A)({},r),r.body?{body:t}:{}),{},{duplex:i}))},N="undefined"!==typeof XMLHttpRequest,k=async e=>{let{input:t,init:o,onUploadProgress:n}=e;A("using xhr");let r=null;return o.body&&(r=v(o.body)?await new Response(o.body).blob():o.body),new Promise((e,a)=>{const i=new XMLHttpRequest;if(i.open(o.method||"GET",t.toString(),!0),n&&i.upload.addEventListener("progress",e=>{e.lengthComputable&&n(e.loaded)}),i.onload=()=>{var t;if(null==(t=o.signal)?void 0:t.aborted)return void a(new DOMException("The user aborted the request.","AbortError"));const n=new Headers;i.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(e=>{const t=e.split(": "),o=t.shift(),r=t.join(": ");o&&n.set(o.toLowerCase(),r)});const r=new Response(i.response,{status:i.status,statusText:i.statusText,headers:n});e(r)},i.onerror=()=>{a(new TypeError("Network request failed"))},i.ontimeout=()=>{a(new TypeError("Network request timed out"))},i.onabort=()=>{a(new DOMException("The user aborted a request.","AbortError"))},o.headers){new Headers(o.headers).forEach((e,t)=>{i.setRequestHeader(t,e)})}o.signal&&(o.signal.addEventListener("abort",()=>{i.abort()}),o.signal.aborted)?i.abort():i.send(r)})},B=null!=(L=globalThis.DOMException)?L:(()=>{try{atob("~")}catch(e){return Object.getPrototypeOf(e).constructor}})(),H=class extends f{constructor(){super("Access denied, please provide a valid token for this resource.")}},I=class extends f{constructor(e){super("Content type mismatch, ".concat(e,"."))}},W=class extends f{constructor(e){super("Pathname mismatch, ".concat(e,". Check the pathname used in upload() or put() matches the one from the client token."))}},K=class extends f{constructor(){super("Client token has expired.")}},F=class extends f{constructor(e){super("File is too large, ".concat(e,"."))}},V=class extends f{constructor(){super("This store does not exist.")}},M=class extends f{constructor(){super("This store has been suspended.")}},q=class extends f{constructor(){super("Unknown error, please visit https://vercel.com/help.")}},j=class extends f{constructor(){super("The requested blob does not exist")}},z=class extends f{constructor(){super("The blob service is currently not available. Please try again.")}},X=class extends f{constructor(e){super("Too many requests please lower the number of concurrent requests ".concat(e?" - try again in ".concat(e," seconds"):"",".")),this.retryAfter=null!=e?e:0}},G=class extends f{constructor(){super("The request was aborted.")}};function Y(){try{return parseInt({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VERCEL_BLOB_RETRIES||"10",10)}catch(e){return 10}}async function J(e){var t,o,n;let r,a,i;try{const i=await e.json();r=null!=(o=null==(t=i.error)?void 0:t.code)?o:"unknown_error",a=null==(n=i.error)?void 0:n.message}catch(s){r="unknown_error"}switch((null==a?void 0:a.includes("contentType"))&&a.includes("is not allowed")&&(r="content_type_not_allowed"),(null==a?void 0:a.includes('"pathname"'))&&a.includes("does not match the token payload")&&(r="client_token_pathname_mismatch"),"Token expired"===a&&(r="client_token_expired"),(null==a?void 0:a.includes("the file length cannot be greater than"))&&(r="file_too_large"),r){case"store_suspended":i=new M;break;case"forbidden":i=new H;break;case"content_type_not_allowed":i=new I(a);break;case"client_token_pathname_mismatch":i=new W(a);break;case"client_token_expired":i=new K;break;case"file_too_large":i=new F(a);break;case"not_found":i=new j;break;case"store_not_found":i=new V;break;case"bad_request":i=new f(null!=a?a:"Bad request");break;case"service_unavailable":i=new z;break;case"rate_limited":i=function(e){const t=e.headers.get("retry-after");return new X(t?parseInt(t,10):void 0)}(e);break;default:i=new q}return{code:r,error:i}}async function $(e,t,o){const r=function(){let e=null;try{e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VERCEL_BLOB_API_VERSION_OVERRIDE||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_VERCEL_BLOB_API_VERSION_OVERRIDE}catch(t){}return"".concat(null!=e?e:11)}(),a=function(e){if(null==e?void 0:e.token)return e.token;if({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BLOB_READ_WRITE_TOKEN)return{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.BLOB_READ_WRITE_TOKEN;throw new f("No token found. Either configure the `BLOB_READ_WRITE_TOKEN` environment variable, or pass a `token` option to your calls.")}(o),s=function(){const e={};try{"VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API?e["x-proxy-through-alternative-api"]={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API:"NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API"in{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API&&(e["x-proxy-through-alternative-api"]={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEXT_PUBLIC_VERCEL_BLOB_PROXY_THROUGH_ALTERNATIVE_API)}catch(t){}return e}(),[,,,c=""]=a.split("_"),u="".concat(c,":").concat(Date.now(),":").concat(Math.random().toString(16).slice(2));let l=0,d=0,p=0;const _=(null==o?void 0:o.onUploadProgress)||function(){try{return"1"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.VERCEL_BLOB_USE_X_CONTENT_LENGTH}catch(e){return!1}}();t.body&&_&&(d=b(t.body)),(null==o?void 0:o.onUploadProgress)&&o.onUploadProgress({loaded:0,total:d,percentage:0});const h=await i(async i=>{let c;try{c=await(async e=>{let{input:t,init:o,onUploadProgress:n}=e;if(n){if(U)return D({input:t,init:o,onUploadProgress:n});if(N)return k({input:t,init:o,onUploadProgress:n})}if(x)return D({input:t,init:o});if(N)return k({input:t,init:o});throw new Error("No request implementation available")})({input:S(e),init:(0,n.A)((0,n.A)({},t),{},{headers:(0,n.A)((0,n.A)((0,n.A)({"x-api-blob-request-id":u,"x-api-blob-request-attempt":String(l),"x-api-version":r},_?{"x-content-length":String(d)}:{}),{},{authorization:"Bearer ".concat(a)},s),t.headers)}),onUploadProgress:(null==o?void 0:o.onUploadProgress)?e=>{var t;const n=0!==d?d:e;p=e;const r=d>0?Number((e/n*100).toFixed(2)):0;100===r&&d>0||null==(t=o.onUploadProgress)||t.call(o,{loaded:e,total:n,percentage:r})}:void 0})}catch(m){if(m instanceof B&&"AbortError"===m.name)return void i(new G);if(O(m))throw m;if(m instanceof TypeError)return void i(m);throw m}if(c.ok)return c;const{code:h,error:f}=await J(c);if("unknown_error"===h||"service_unavailable"===h||"internal_server_error"===h)throw f;i(f)},{retries:Y(),onRetry:t=>{t instanceof Error&&A("retrying API request to ".concat(e),t.message),l+=1}});if(!h)throw new q;return(null==o?void 0:o.onUploadProgress)&&o.onUploadProgress({loaded:p,total:p,percentage:100}),await h.json()}var Q="x-cache-control-max-age",Z="x-add-random-suffix",ee="x-allow-overwrite",te="x-content-type";function oe(e,t){const o={};return e.includes("contentType")&&t.contentType&&(o[te]=t.contentType),e.includes("addRandomSuffix")&&void 0!==t.addRandomSuffix&&(o[Z]=t.addRandomSuffix?"1":"0"),e.includes("allowOverwrite")&&void 0!==t.allowOverwrite&&(o[ee]=t.allowOverwrite?"1":"0"),e.includes("cacheControlMaxAge")&&void 0!==t.cacheControlMaxAge&&(o[Q]=t.cacheControlMaxAge.toString()),o}async function ne(e){let{pathname:t,options:o,extraChecks:n,getToken:r}=e;if(!t)throw new f("pathname is required");if(t.length>950)throw new f("pathname is too long, maximum length is ".concat(950));for(const a of T)if(t.includes(a))throw new f('pathname cannot contain "'.concat(a,'", please encode it if needed'));if(!o)throw new f("missing options, see usage");if("public"!==o.access)throw new f('access must be "public"');return n&&n(o),r&&(o.token=await r(t,o)),o}async function re(e){let{uploadId:t,key:o,pathname:r,parts:a,headers:i,options:s}=e;const c=new URLSearchParams({pathname:r});try{const e=await $("/mpu?".concat(c.toString()),{method:"POST",headers:(0,n.A)((0,n.A)({},i),{},{"content-type":"application/json","x-mpu-action":"complete","x-mpu-upload-id":t,"x-mpu-key":encodeURIComponent(o)}),body:JSON.stringify(a),signal:s.abortSignal},s);return A("mpu: complete",e),e}catch(pe){throw pe instanceof TypeError&&("Failed to fetch"===pe.message||"fetch failed"===pe.message)?new z:pe}}async function ae(e,t,o){A("mpu: create","pathname:",e);const r=new URLSearchParams({pathname:e});try{const e=await $("/mpu?".concat(r.toString()),{method:"POST",headers:(0,n.A)((0,n.A)({},t),{},{"x-mpu-action":"create"}),signal:o.abortSignal},o);return A("mpu: create",e),e}catch(pe){if(pe instanceof TypeError&&("Failed to fetch"===pe.message||"fetch failed"===pe.message))throw new z;throw pe}}async function ie(e){let{uploadId:t,key:o,pathname:r,headers:a,options:i,internalAbortController:s=new AbortController,part:c}=e;var u,l,d;const p=new URLSearchParams({pathname:r}),_=$("/mpu?".concat(p.toString()),{signal:s.signal,method:"POST",headers:(0,n.A)((0,n.A)({},a),{},{"x-mpu-action":"upload","x-mpu-key":encodeURIComponent(o),"x-mpu-upload-id":t,"x-mpu-part-number":c.partNumber.toString()}),body:c.blob},i);function h(){s.abort()}(null==(u=i.abortSignal)?void 0:u.aborted)?h():null==(l=i.abortSignal)||l.addEventListener("abort",h);const f=await _;return null==(d=i.abortSignal)||d.removeEventListener("abort",h),f}var se="undefined"!==typeof window?6:8,ce=8388608,ue=se*ce*2;async function le(e,t,o,r){A("mpu: init","pathname:",e,"headers:",o);const a=(0,n.A)((0,n.A)({},r),{},{onUploadProgress:void 0}),i=await ae(e,o,a),s=b(t),u=await l(t),d=await function(e){let{uploadId:t,key:o,pathname:r,stream:a,headers:i,options:s,totalToLoad:u}=e;A("mpu: upload init","key:",o);const l=new AbortController;return new Promise((e,d)=>{const p=[],_=[],f=a.getReader();let m,T=0,E=!1,S=1,y=!1,b=0,v=!1,w=0,g=[],O=0;const R={};async function C(){for(A("mpu: upload read start","activeUploads:",T,"currentBytesInMemory:","".concat(h(b),"/").concat(h(ue)),"bytesSent:",h(w)),E=!0;b<ue&&!y;)try{const{value:e,done:t}=await f.read();if(t)return v=!0,A("mpu: upload read consumed the whole stream"),g.length>0&&(p.push({partNumber:S++,blob:new Blob(g,{type:"application/octet-stream"})}),L()),void(E=!1);b+=e.byteLength;let o=0;for(;o<e.byteLength;){const t=ce-O,n=Math.min(o+t,e.byteLength),r=e.slice(o,n);g.push(r),O+=r.byteLength,o=n,O===ce&&(p.push({partNumber:S++,blob:new Blob(g,{type:"application/octet-stream"})}),g=[],O=0,L())}}catch(pe){x(pe)}A("mpu: upload read end","activeUploads:",T,"currentBytesInMemory:","".concat(h(b),"/").concat(h(ue)),"bytesSent:",h(w)),E=!1}async function P(a){T++,A("mpu: upload send part start","partNumber:",a.partNumber,"size:",a.blob.size,"activeUploads:",T,"currentBytesInMemory:","".concat(h(b),"/").concat(h(ue)),"bytesSent:",h(w));try{const c=s.onUploadProgress?e=>{R[a.partNumber]=e.loaded,m&&m()}:void 0,u=await ie({uploadId:t,key:o,pathname:r,headers:i,options:(0,n.A)((0,n.A)({},s),{},{onUploadProgress:c}),internalAbortController:l,part:a});if(A("mpu: upload send part end","partNumber:",a.partNumber,"activeUploads",T,"currentBytesInMemory:","".concat(h(b),"/").concat(h(ue)),"bytesSent:",h(w)),y)return;if(_.push({partNumber:a.partNumber,etag:u.etag}),b-=a.blob.size,T--,w+=a.blob.size,p.length>0&&L(),v)return void(0===T&&(f.releaseLock(),e(_)));E||C().catch(x)}catch(pe){x(pe)}}function L(){if(!y)for(A("send parts","activeUploads",T,"partsToUpload",p.length);T<se&&p.length>0;){const e=p.shift();e&&P(e)}}function x(e){y||(y=!0,l.abort(),f.releaseLock(),e instanceof TypeError&&("Failed to fetch"===e.message||"fetch failed"===e.message)?d(new z):d(e))}s.onUploadProgress&&(m=c(()=>{var e;const t=Object.values(R).reduce((e,t)=>e+t,0),o=u||t,n=u>0?Number((100*(t/u||t)).toFixed(2)):0;null==(e=s.onUploadProgress)||e.call(s,{loaded:t,total:o,percentage:n})},150)),C().catch(x)})}({uploadId:i.uploadId,key:i.key,pathname:e,stream:u,headers:o,options:r,totalToLoad:s});return await re({uploadId:i.uploadId,key:i.key,pathname:e,parts:d,headers:o,options:a})}var de=function(e){let{allowedOptions:t,getToken:o,extraChecks:r}=e;return async function(e,a,i){if(!a)throw new f("body is required");if(m(a))throw new f("Body must be a string, buffer or stream. You sent a plain JavaScript object, double check what you're trying to upload.");const s=await ne({pathname:e,options:i,extraChecks:r,getToken:o}),u=oe(t,s);if(!0===s.multipart)return le(e,a,u,s);const l=s.onUploadProgress?c(s.onUploadProgress,100):void 0,d=new URLSearchParams({pathname:e}),p=await $("/?".concat(d.toString()),{method:"PUT",body:a,headers:u,signal:s.abortSignal},(0,n.A)((0,n.A)({},s),{},{onUploadProgress:l}));return{url:p.url,downloadUrl:p.downloadUrl,pathname:p.pathname,contentType:p.contentType,contentDisposition:p.contentDisposition}}}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]});(function(e){let{allowedOptions:t,getToken:o,extraChecks:n}=e})({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]}),function(e){let{allowedOptions:t,getToken:o,extraChecks:n}=e}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]}),function(e){let{allowedOptions:t,getToken:o,extraChecks:n}=e}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]}),function(e){let{allowedOptions:t,getToken:o,extraChecks:n}=e}({allowedOptions:["cacheControlMaxAge","addRandomSuffix","allowOverwrite","contentType"]})}}]);
//# sourceMappingURL=748.ee88a768.chunk.js.map